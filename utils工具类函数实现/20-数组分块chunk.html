<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>20-数组分块chunk</title>
  </head>
  <body></body>
  <script>
    function chunk(array, size) {
      if (array.length === 0) {
        return []
      }
      size = size || 1
      const bigArr = []
      let smallArr = []
      array.forEach((item) => {
        if (smallArr.length === 0) {
          bigArr.push(smallArr)
        }
        smallArr.push(item)
        // 巧妙的用到了地址引用
        if (smallArr.length === size) {
          smallArr = []
        }
      })
      return bigArr
    }
    const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    console.log(chunk(arr, 4)) // [[1, 2, 3, 4], [5, 6, 7, 8]， [9, 10], [9, 10]]

    function chunk2(array, size) {
      const outPutArr = []
      const forTime = Math.ceil(array.length / size)
      for (let i = 0; i < forTime; i++) {
        outPutArr.push(array.slice(i * size, (i + 1) * size))
      }
      return outPutArr
    }
    console.log(chunk2([1, 2, 3, 4, 5, 6, 7], 3))
  </script>
</html>
