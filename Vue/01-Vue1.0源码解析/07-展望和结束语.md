看代码就像看电影一样，不懂得时到处都是迷，觉得主角周围发生的事都好不可思议，看懂了以后就会发现一根清晰的主线剧情，或是爱情，或是亲情，或是复仇
或者为名为财。所有之前那些都豁然开朗

vuejs 源码看下来也是，从最初接触到vue 开始，一直断断续续的看了一些实现关于原理的文章，初看一堆概念： parse, compiler observer watcher 等等
每一部分都有负责的细节实现。但是只要把握他的主线剧情：即如何把state 和 dom 关联起来，使data 的改动 反应到 state 上. 顺着这个思路比较容易看懂，甚至自己实现一个类似的框架。

那么为什么vuejs 几千行的代码量，我们只需要 500行代码就能实现呢？ 其实因为我们省略了绝大部分的细节，这些细节很重要：
1. 完善的生命周期，回调，完善的销毁机制
2. 对表达式的支持，其中包含对四则运算，路径，以及函数调用的支持，这一块没仔细看，但是应该都是基于有限状态机实现的。
3. 对 dom的各种边界情况的支持，比如 fragment
4. 性能优化，batcher
5. 对props slot的处理
6. 常用的 directive 的实现

把上述这些全部实现，那么我们就能得到一个和vuejs 几乎一样的框架出来，要不要试试

#### 记住这几点
希望读过这几篇文章后，能记住以下几句
1. 如果通过 getter/setter 实现数据响应化
2. 在getter 中记录依赖关系，而不是分析表达式
3. batcher 会在 nextTick 的时候执行全部的更新，默认情况下 vue是不会立即更新dom的
4. 记住最开始那个流程图